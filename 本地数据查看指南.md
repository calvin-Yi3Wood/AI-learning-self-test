# 📊 本地数据查看指南

## 🎯 数据存储方式

**你的自测表现在使用本地存储模式：**
- ✅ 网站公开访问（任何人都能测试）
- ✅ 代码公开在GitHub（无敏感信息）
- ✅ **数据只保存在用户浏览器本地**（不上传到GitHub）

---

## 📂 如何查看数据？

### 方法1：使用浏览器开发者工具（推荐）

**步骤：**
1. 访问自测表网站
2. 按 **F12** 打开开发者工具
3. 切换到 **Application** 标签（Chrome）或 **Storage** 标签（Firefox）
4. 左侧找到 **Local Storage**
5. 展开后点击你的网站域名
6. 找到 `ai_test_backup` 键

**数据格式：**
```json
[
  {
    "timestamp": "2025-11-13T16:30:45.123Z",
    "anonymousId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
    "answers": { "TB": [5, 4, 5], "LS": [3, 4, 4], ... },
    "dimensionScores": { "TB": 93.33, "LS": 68.75, ... },
    "result": {
      "mainRoute": "T4",
      "subRoute": "T2",
      "isDirect": false
    },
    "metadata": { ... },
    "usageStats": { ... }
  }
]
```

---

### 方法2：使用Console导出数据

**在Console中运行：**

#### 查看最近10条数据
```javascript
JSON.parse(localStorage.getItem('ai_test_backup'))
```

#### 导出为JSON文件
```javascript
const data = localStorage.getItem('ai_test_backup');
const blob = new Blob([data], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = `测试数据_${new Date().toISOString().split('T')[0]}.json`;
a.click();
```

#### 统计数据
```javascript
const data = JSON.parse(localStorage.getItem('ai_test_backup') || '[]');
console.log('总测试次数:', data.length);
console.log('最早测试:', data[0]?.timestamp);
console.log('最新测试:', data[data.length - 1]?.timestamp);

// 路线分布
const routes = {};
data.forEach(d => {
  const route = d.result?.mainRoute || 'unknown';
  routes[route] = (routes[route] || 0) + 1;
});
console.log('路线分布:', routes);
```

---

## 🔢 数据分析示例

### 使用JavaScript分析数据

**在Console中运行以下代码：**

```javascript
// 1. 读取数据
const testData = JSON.parse(localStorage.getItem('ai_test_backup') || '[]');

// 2. 计算维度平均分
const dimensions = ['TB', 'LS', 'TI', 'GO', 'AI', 'DM', 'CC', 'CR'];
const avgScores = {};

dimensions.forEach(dim => {
  const scores = testData.map(d => d.dimensionScores?.[dim]).filter(Boolean);
  avgScores[dim] = (scores.reduce((a, b) => a + b, 0) / scores.length).toFixed(2);
});

console.table(avgScores);

// 3. 路线分布统计
const routeStats = {};
testData.forEach(d => {
  const route = d.result?.mainRoute;
  if (route) {
    routeStats[route] = (routeStats[route] || 0) + 1;
  }
});

console.log('路线分布:');
console.table(routeStats);

// 4. 每日测试趋势
const dailyStats = {};
testData.forEach(d => {
  const date = d.timestamp?.split('T')[0];
  if (date) {
    dailyStats[date] = (dailyStats[date] || 0) + 1;
  }
});

console.log('每日测试数:');
console.table(dailyStats);
```

---

## 📥 导出到Excel

**方法1：使用在线工具**
1. 导出JSON文件（见上方"方法2"）
2. 访问 https://www.convertcsv.com/json-to-csv.htm
3. 上传JSON文件，转换为CSV
4. 在Excel中打开CSV文件

**方法2：手动整理**
1. 复制Console中的数据
2. 粘贴到Excel
3. 使用"数据" → "从文本/CSV"导入

---

## ⚠️ 注意事项

### 数据保留时间
- ✅ 浏览器localStorage最多保存 **最近10条** 测试记录
- ⚠️ 清除浏览器数据会删除所有测试记录

### 数据备份建议
**定期导出数据备份：**
```javascript
// 每周运行一次，导出备份
const data = localStorage.getItem('ai_test_backup');
const blob = new Blob([data], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = `备份_${new Date().toISOString().split('T')[0]}.json`;
a.click();
```

---

## 📊 未来升级选项

如果需要更强大的数据分析功能，可以考虑：

### 选项1：自建服务器
- 租用云服务器（如腾讯云、阿里云）
- 搭建数据接收API
- 自动生成Excel报表

### 选项2：升级GitHub Pro
- $4/月
- 私有仓库可用GitHub Pages
- 自动化报表生成

### 选项3：使用第三方统计服务
- Google Analytics（免费，但数据在Google）
- Mixpanel（免费额度）
- Umami（开源自托管）

---

**当前模式适合**：
- ✅ 小规模测试（每天<100人）
- ✅ 简单数据查看
- ✅ 完全免费
- ✅ 数据隐私保护

**不适合**：
- ❌ 大规模数据收集（>1000条）
- ❌ 自动化报表生成
- ❌ 跨设备数据同步
